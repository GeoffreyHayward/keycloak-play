spring.application.name=keyclock-play

# Default to local profile (uses localhost issuer)
spring.profiles.active=${SPRING_PROFILES_ACTIVE:local}

# Server
server.port=${SERVER_PORT:8080}

# Thymeleaf (defaults are fine, keep cache off in dev)
spring.thymeleaf.cache=false

# OAuth2 Client registration (Keycloak)
spring.security.oauth2.client.registration.keycloak.client-id=${KEYCLOAK_CLIENT_ID:spring-client}
spring.security.oauth2.client.registration.keycloak.client-secret=${KEYCLOAK_CLIENT_SECRET:example-secret}
spring.security.oauth2.client.registration.keycloak.scope=openid,profile,email
spring.security.oauth2.client.registration.keycloak.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.keycloak.provider=keycloak
spring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username

# App config for UI health banner
app.keycloak.url=${KEYCLOAK_URL:http://localhost:8080/auth}
app.keycloak.realm=${KEYCLOAK_REALM:play}
app.keycloak.client=${KEYCLOAK_CLIENT_ID:spring-client}

# RP-initiated logout redirect (back to our app home)
app.logout.post-logout-redirect-uri=${POST_LOGOUT_REDIRECT_URI:http://localhost:${server.port}/}

# Logging: increase security logs
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.security.oauth2=DEBUG
logging.level.org.springframework.web=INFO
